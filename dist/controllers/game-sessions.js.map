{"version":3,"sources":["../../src/controllers/game-sessions.js"],"names":["config","db","api","post","req","res","newGameSession","name","body","save","err","send","json","message","get","find","gameSessions","findById","params","id","gameSession","put","delete","remove","_id"],"mappings":";;;;;;AAAA;;AACA;;;;;;kBAEc,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAChC,MAAIC,MAAM;;AAEV;AAFU,KAAV,CAGAA,IAAIC,IAAJ,CAAS,GAAT,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1B,QAAIC,iBAAiB,2BAArB;AACAA,mBAAeC,IAAf,GAAsBH,IAAII,IAAJ,CAASD,IAA/B;;AAEAD,mBAAeG,IAAf,CAAoB,eAAO;AACzB,UAAIC,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAAS,EAAEC,SAAS,mCAAX,EAAT;AACD,KALD;AAMD;;AAED;AAZA,IAaAX,IAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACV,GAAD,EAAMC,GAAN,EAAc;AACzB,0BAAYU,IAAZ,CAAiB,EAAjB,EAAqB,UAACL,GAAD,EAAMM,YAAN,EAAuB;AAC1C,UAAIN,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASI,YAAT;AACD,KALD;AAMD;;AAED;AATA,IAUAd,IAAIY,GAAJ,CAAQ,MAAR,EAAgB,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC5B,0BAAYY,QAAZ,CAAqBb,IAAIc,MAAJ,CAAWC,EAAhC,EAAoC,UAACT,GAAD,EAAMU,WAAN,EAAsB;AACxD,UAAIV,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASQ,WAAT;AACD,KALD;AAMD;;AAED;AATA,IAUAlB,IAAImB,GAAJ,CAAQ,MAAR,EAAgB,UAACjB,GAAD,EAAMC,GAAN,EAAc;AAC5B,0BAAYY,QAAZ,CAAqBb,IAAIc,MAAJ,CAAWC,EAAhC,EAAoC,UAACT,GAAD,EAAMU,WAAN,EAAsB;AACxD,UAAIV,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDU,kBAAYb,IAAZ,GAAmBH,IAAII,IAAJ,CAASD,IAA5B;AACAa,kBAAYX,IAAZ,CAAiB,eAAO;AACtB,YAAIC,GAAJ,EAAS;AACPL,cAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,YAAIO,IAAJ,CAAS,EAAEC,SAAS,mCAAX,EAAT;AACD,OALD;AAMD,KAXD;AAYD;;AAED;AAfA,IAgBAX,IAAIoB,MAAJ,CAAW,MAAX,EAAmB,UAAClB,GAAD,EAAMC,GAAN,EAAc;AAC/B,0BAAYkB,MAAZ,CAAmB;AACjBC,WAAKpB,IAAIc,MAAJ,CAAWC;AADC,KAAnB,EAEG,UAACT,GAAD,EAAMU,WAAN,EAAsB;AACvB,UAAIV,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAAS,EAAEC,SAAS,mCAAX,EAAT;AACD,KAPD;AAQD,GATD;;AAWA,SAAOX,GAAP;AACD,C","file":"game-sessions.js","sourcesContent":["import { Router } from 'express'\nimport GameSession from '../model/game-session'\n\nexport default({ config, db }) => {\n  let api = Router()\n\n  // '/v1/game-sessions' - Create\n  api.post('/', (req, res) => {\n    let newGameSession = new GameSession()\n    newGameSession.name = req.body.name\n\n    newGameSession.save(err => {\n      if (err) {\n        res.send(err)\n      }\n      res.json({ message: 'Game session created successfully' })\n    })\n  })\n\n  // '/v1/game-sessions' - Read\n  api.get('/', (req, res) => {\n    GameSession.find({}, (err, gameSessions) => {\n      if (err) {\n        res.send(err)\n      }\n      res.json(gameSessions)\n    })\n  })\n\n  // '/v1/game-sessions/:id' - Read 1\n  api.get('/:id', (req, res) => {\n    GameSession.findById(req.params.id, (err, gameSession) => {\n      if (err) {\n        res.send(err)\n      }\n      res.json(gameSession)\n    })\n  })\n\n  // '/v1/game-sessions/:id' - Update\n  api.put('/:id', (req, res) => {\n    GameSession.findById(req.params.id, (err, gameSession) => {\n      if (err) {\n        res.send(err)\n      }\n      gameSession.name = req.body.name\n      gameSession.save(err => {\n        if (err) {\n          res.send(err)\n        }\n        res.json({ message: 'Game session updated successfully' })\n      })\n    })\n  })\n\n  // '/v1/game-sessions/:id' - Delete\n  api.delete('/:id', (req, res) => {\n    GameSession.remove({\n      _id: req.params.id\n    }, (err, gameSession) => {\n      if (err) {\n        res.send(err)\n      }\n      res.json({ message: 'Game session removed successfully' })\n    })\n  })\n\n  return api\n}\n"]}